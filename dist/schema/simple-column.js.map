{"version":3,"sources":["../../src/schema/simple-column.js"],"names":["SimpleColumn","name","attributeName","columnName","type","accessor","join","defaultAccessor","object","_type","_name","_attributeName","_columnName","_accessor","_join","valueFrom","exportValue","options","split"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;;;;;;;IAEqBA,Y;;;AACnB,8BAA0F;AAAA,QAA7EC,IAA6E,QAA7EA,IAA6E;AAAA,QAAvEC,aAAuE,QAAvEA,aAAuE;AAAA,QAAxDC,UAAwD,QAAxDA,UAAwD;AAAA,yBAA5CC,IAA4C;AAAA,QAA5CA,IAA4C,6BAArC,IAAqC;AAAA,6BAA/BC,QAA+B;AAAA,QAA/BA,QAA+B,iCAApB,IAAoB;AAAA,yBAAdC,IAAc;AAAA,QAAdA,IAAc,6BAAP,IAAO;;AAAA;;AAAA,iDACxF,kBADwF;;AAAA,UAsD1FC,eAtD0F,GAsDxE,UAACC,MAAD,EAAY;AAC5B,aAAOA,OAAO,MAAKN,aAAZ,CAAP;AACD,KAxDyF;;AAGxF,UAAKO,KAAL,GAAaL,QAAQ,QAArB;AACA,UAAKM,KAAL,GAAaT,IAAb;AACA,UAAKU,cAAL,GAAsBT,aAAtB;AACA,UAAKU,WAAL,GAAmBT,UAAnB;AACA,UAAKU,SAAL,GAAiBR,YAAY,MAAKE,eAAlC;;AAEA,QAAID,IAAJ,EAAU;AACR,YAAKQ,KAAL,GAAa,mBAASR,IAAT,CAAb;AACD;AAXuF;AAYzF;;yBA8CDS,S,sBAAUP,M,EAAQ;AAChB,WAAO,KAAKK,SAAL,CAAeL,MAAf,CAAP;AACD,G;;yBAEDQ,W,wBAAYR,M,EAAsB;AAAA,QAAdS,OAAc,uEAAJ,EAAI;;AAChC,WAAO,KAAKJ,SAAL,CAAeL,MAAf,EAAuBS,OAAvB,CAAP;AACD,G;;;;wBAlDU;AACT,aAAO,KAAKR,KAAZ;AACD;;;wBAEQ;AACP,aAAO,KAAKG,WAAZ;AACD;;;wBAEU;AACT,aAAO,KAAKF,KAAZ;AACD;;;wBAEU;AACT,aAAO,KAAKI,KAAZ;AACD;;;wBAEY;AACX,UAAI,KAAKR,IAAT,EAAe;AACb,eAAO,KAAKM,WAAL,CAAiBM,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,CAAP;AACD;;AAED,aAAO,IAAP;AACD;;;wBAEsB;AACrB,aAAO,KAAKf,UAAZ;AACD;;;wBAEgB;AACf,UAAI,KAAKG,IAAT,EAAe;AACb,eAAO,KAAKM,WAAL,CAAiBM,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,CAAP;AACD;;AAED,aAAO,KAAKN,WAAZ;AACD;;;wBAEmB;AAClB,aAAO,KAAKD,cAAZ;AACD;;;;;;kBArDkBX,Y","file":"simple-column.js","sourcesContent":["import Column from './column';\nimport Join from './join';\n\nexport default class SimpleColumn extends Column {\n  constructor({name, attributeName, columnName, type = null, accessor = null, join = null}) {\n    super();\n\n    this._type = type || 'string';\n    this._name = name;\n    this._attributeName = attributeName;\n    this._columnName = columnName;\n    this._accessor = accessor || this.defaultAccessor;\n\n    if (join) {\n      this._join = new Join(join);\n    }\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  get id() {\n    return this._columnName;\n  }\n\n  get name() {\n    return this._name;\n  }\n\n  get join() {\n    return this._join;\n  }\n\n  get source() {\n    if (this.join) {\n      return this._columnName.split('.')[0];\n    }\n\n    return null;\n  }\n\n  get joinedColumnName() {\n    return this.columnName;\n  }\n\n  get columnName() {\n    if (this.join) {\n      return this._columnName.split('.')[1];\n    }\n\n    return this._columnName;\n  }\n\n  get attributeName() {\n    return this._attributeName;\n  }\n\n  defaultAccessor = (object) => {\n    return object[this.attributeName];\n  }\n\n  valueFrom(object) {\n    return this._accessor(object);\n  }\n\n  exportValue(object, options = {}) {\n    return this._accessor(object, options);\n  }\n}\n"]}