{"version":3,"sources":["../src/column-filter.js"],"names":["ColumnFilter","attrs","schema","_field","field","_value","value","_schema","clearValues","ensureValue","containsValue","push","toggleValue","without","indexOf","toJSON","length","columnForFieldKey","column","columnName"],"mappings":";;;;;;AAAA;;;;;;;;IAEqBA,Y;AACnB,wBAAYC,KAAZ,EAAmBC,MAAnB,EAA2B;AAAA;;AACzB,SAAKC,MAAL,GAAcF,MAAMG,KAApB;AACA,SAAKC,MAAL,GAAcJ,MAAMK,KAAN,IAAe,IAA7B;AACA,SAAKC,OAAL,GAAeL,MAAf;AACD;;yBAmCDM,W,0BAAc;AACZ,SAAKH,MAAL,GAAc,EAAd;AACD,G;;yBAEDI,W,wBAAYH,K,EAAO;AACjB,QAAI,CAAC,KAAKD,MAAV,EAAkB;AAChB,WAAKA,MAAL,GAAc,EAAd;AACD;;AAED,QAAI,CAAC,KAAKK,aAAL,CAAmBJ,KAAnB,CAAL,EAAgC;AAC9B,WAAKD,MAAL,CAAYM,IAAZ,CAAiBL,KAAjB;AACD;AACF,G;;yBAEDM,W,wBAAYN,K,EAAO;AACjB,QAAI,CAAC,KAAKD,MAAV,EAAkB;AAChB,WAAKA,MAAL,GAAc,EAAd;AACD;;AAED,QAAI,KAAKK,aAAL,CAAmBJ,KAAnB,CAAJ,EAA+B;AAC7B,WAAKD,MAAL,GAAc,iBAAEQ,OAAF,CAAU,KAAKP,KAAf,EAAsBA,KAAtB,CAAd;AACD,KAFD,MAEO;AACL,WAAKD,MAAL,CAAYM,IAAZ,CAAiBL,KAAjB;AACD;AACF,G;;yBAEDI,a,0BAAcJ,K,EAAO;AACnB,QAAI,KAAKA,KAAL,IAAc,IAAlB,EAAwB;AACtB,aAAO,KAAP;AACD;;AAED,WAAO,KAAKA,KAAL,CAAWQ,OAAX,CAAmBR,KAAnB,IAA4B,CAAC,CAApC;AACD,G;;yBAEDS,M,qBAAS;AACP,WAAO;AACLX,aAAO,KAAKD,MADP;AAELG,aAAO,KAAKD;AAFP,KAAP;AAID,G;;;;wBAxEW;AACV,aAAO,KAAKA,MAAZ;AACD;;AAED;;;;wBACa;AACX,aAAO,KAAKC,KAAL,IAAc,IAArB;AACD;;;wBAEe;AACd,aAAO,KAAKA,KAAL,IAAc,IAAd,IAAsB,KAAKA,KAAL,CAAWU,MAAX,GAAoB,CAAjD;AACD;;AAED;;;;wBACiB;AACf,aAAO,KAAKV,KAAL,IAAc,IAAd,IAAsB,KAAKA,KAAL,CAAWU,MAAX,KAAsB,CAAnD;AACD;;;wBAEW;AACV,aAAO,KAAKb,MAAZ;AACD;;;wBAEY;AACX,aAAO,KAAKI,OAAL,CAAaU,iBAAb,CAA+B,KAAKb,KAApC,CAAP;AACD;;;wBAEgB;AACf,UAAI,KAAKc,MAAT,EAAiB;AACf,eAAO,KAAKA,MAAL,CAAYC,UAAnB;AACD;AACD,aAAO,IAAP;AACD;;;;;;kBAtCkBnB,Y","file":"column-filter.js","sourcesContent":["import _ from 'lodash';\n\nexport default class ColumnFilter {\n  constructor(attrs, schema) {\n    this._field = attrs.field;\n    this._value = attrs.value || null;\n    this._schema = schema;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n  // when the filter is fully blank (default state) all rows are returned\n  get isNull() {\n    return this.value == null;\n  }\n\n  get hasValues() {\n    return this.value != null && this.value.length > 0;\n  }\n\n  // when the set is empty, it should always return no results\n  get isEmptySet() {\n    return this.value != null && this.value.length === 0;\n  }\n\n  get field() {\n    return this._field;\n  }\n\n  get column() {\n    return this._schema.columnForFieldKey(this.field);\n  }\n\n  get columnName() {\n    if (this.column) {\n      return this.column.columnName;\n    }\n    return null;\n  }\n\n  clearValues() {\n    this._value = [];\n  }\n\n  ensureValue(value) {\n    if (!this._value) {\n      this._value = [];\n    }\n\n    if (!this.containsValue(value)) {\n      this._value.push(value);\n    }\n  }\n\n  toggleValue(value) {\n    if (!this._value) {\n      this._value = [];\n    }\n\n    if (this.containsValue(value)) {\n      this._value = _.without(this.value, value);\n    } else {\n      this._value.push(value);\n    }\n  }\n\n  containsValue(value) {\n    if (this.value == null) {\n      return false;\n    }\n\n    return this.value.indexOf(value) > -1;\n  }\n\n  toJSON() {\n    return {\n      field: this._field,\n      value: this._value\n    };\n  }\n}\n"]}